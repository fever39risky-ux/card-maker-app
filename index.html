<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ãƒã‚±ã‚«é¢¨ã‚µãƒãƒ¼ãƒˆãƒ¡ãƒ¼ã‚«ãƒ¼</title>
    <style>
        /* ãƒ•ã‚©ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€è¨­å®š (å¤‰æ›´ãªã—) */
        @font-face {
            font-family: 'Mplus1-Bold';
            src: url('fonts/Mplus1-Bold.otf') format('opentype');
            font-weight: bold;
            font-style: normal;
        }

        /* ã‚¹ã‚¿ã‚¤ãƒ«ã¯ç°¡ç•¥åŒ–ã—ã¦ã„ã¾ã™ */
        body { font-family: sans-serif; text-align: center; margin-top: 50px; background-color: #f0f2f5; }
        .container { max-width: 600px; margin: 0 auto; padding: 30px; background-color: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }
        input[type="file"], button, input[type="text"] { padding: 10px 15px; margin: 5px 0; border-radius: 5px; border: 1px solid #ccc; font-size: 16px; }
        button { background-color: #d83d3d; color: white; cursor: pointer; border: none; transition: background-color 0.3s ease; }
        button:hover { background-color: #b33232; }
        .input-group { margin-bottom: 15px; text-align: left; padding: 0 20px; }
        .input-group label { display: block; font-weight: bold; margin-bottom: 5px; }
    </style>
</head>
<body>

    <div class="container">
        <h1>âœ¨ãƒã‚±ã‚«é¢¨ã‚µãƒãƒ¼ãƒˆãƒ¡ãƒ¼ã‚«ãƒ¼âœ¨</h1>
        <p>ã‚ãªãŸãŒã€ãƒã‚±ã‚«ã®<strong>ã‚µãƒãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰</strong>ã«ï¼Ÿï¼<br>
            ãŠæ°—ã«å…¥ã‚Šç”»åƒã‚’ä½¿ã£ã¦ã€TLã«æµã›ã‚‹è‡ªåˆ†ã ã‘ã®ã‚«ãƒ¼ãƒ‰ã‚’ä½œã‚ã†ï¼
        </p>

        <p style="margin-top: 10px;">
            ä½¿ã„æ–¹ã¯ã‹ã‚“ãŸã‚“ 3ã‚¹ãƒ†ãƒƒãƒ—ğŸ‘‡
        </p>
        <ol style="text-align: left; display: inline-block; margin: 0 auto 10px;">
          <li>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒãªã©ã€å¥½ããªç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</li>
          <li>ã‚«ãƒ¼ãƒ‰åã«ã€Œåå‰ã€ã‚„ã€Œ@IDã€ã‚’å…¥åŠ›</li>
          <li>çµæœç”»é¢ã§ã‚«ãƒ¼ãƒ‰ç”»åƒã‚’ä¿å­˜ã—ã¦ã€ãã®ã¾ã¾Xã«ãƒã‚¹ãƒˆï¼</li>
        </ol>

        <p>
          ãƒ•ã‚©ãƒ­ãƒ¯ãƒ¼ã•ã‚“ã¨ã®æŒ¨æ‹¶ç”¨ã«ä½¿ã£ãŸã‚Šã€è‡ªå·±ç´¹ä»‹ã‚¹ãƒ¬ã«è²¼ã£ãŸã‚Šã€<br>
          <strong>#ãƒã‚±ã‚«é¢¨ã‚µãƒãƒ¼ãƒˆãƒ¡ãƒ¼ã‚«ãƒ¼</strong> ã§ã¿ã‚“ãªã®ã‚«ãƒ¼ãƒ‰ã‚‚è¦‹ã¦ã¿ã¦ã­ ğŸƒâœ¨
        </p>

        <div class="input-group">
            <label for="profileImageInput">1. ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„:</label>
            <input type="file" id="profileImageInput" accept="image/*" style="width: 100%;">
        </div>

        <div class="input-group">
            <label for="cardNameInput">2. ã‚«ãƒ¼ãƒ‰åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:</label>
            <input type="text" id="cardNameInput" value="" placeholder="Xã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’å…¥åŠ›" style="width: 90%;">
        </div>
        
        <button onclick="createCard()">ä½œæˆ</button>
    </div>

    <script>
        const profileImageInput = document.getElementById('profileImageInput');
        const cardNameInput = document.getElementById('cardNameInput');

        function createCard() {
            const cardName = cardNameInput.value.trim();
            const profileFile = profileImageInput.files[0];

            // 1. ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯
            if (!profileFile) {
                alert("ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚");
                return;
            }

            if (cardName === "") {
                alert("ï¼ˆXã‚¢ã‚«ã‚¦ãƒ³ãƒˆåï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚");
                return;
            }

            // 2. ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’Data URLã¨ã—ã¦èª­ã¿è¾¼ã‚€
            const reader = new FileReader();
            reader.onload = (e) => {
                const imageDataURL = e.target.result;

                // 3. ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¸€æ™‚ä¿å­˜
                sessionStorage.setItem('cardName', cardName);
                sessionStorage.setItem('imageDataURL', imageDataURL);
                
                // 4. çµæœç”»é¢ã¸é·ç§»
                window.location.href = 'result.html';
            };
            
            // ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿é–‹å§‹
            reader.readAsDataURL(profileFile);
        }
    </script>

</body>
</html>


